"use strict";(self["webpackChunkfront_end"]=self["webpackChunkfront_end"]||[]).push([[980],{77253:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%",height:"100%",position:"relative"}},[n("div",{staticClass:"map_wrap"},[n("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map"}}),n("div",{attrs:{id:"currCategory_buttons"}},[n("v-btn-toggle",{model:{value:e.currCategory,callback:function(t){e.currCategory=t},expression:"currCategory"}},[n("v-btn",[n("v-icon",[e._v("mdi-parking")]),e._v(" 주차장 ")],1),n("v-btn",[n("v-icon",[e._v("mdi-piggy-bank")]),e._v(" 은행 ")],1),n("v-btn",[n("v-icon",[e._v("mdi-coffee")]),e._v(" 카페 ")],1),n("v-btn",[n("v-icon",[e._v("mdi-store-24-hour")]),e._v(" 편의점 ")],1),n("v-btn",[n("v-icon",[e._v("mdi-silverware-fork-knife")]),e._v(" 음식점 ")],1),n("v-btn",[n("v-icon",[e._v("mdi-hospital-box-outline")]),e._v(" 병원 ")],1),n("v-btn",[n("v-icon",[e._v("mdi-baby-carriage")]),e._v(" 유치원/어린이집 ")],1),n("v-btn",[n("v-icon",[e._v("mdi-school")]),e._v(" 학교 ")],1),n("v-btn",[n("v-icon",[e._v("mdi-shopping")]),e._v(" 대형마트 ")],1),n("v-btn",[n("v-icon",[e._v("mdi-subway")]),e._v(" 지하철역 ")],1)],1)],1)]),n("v-card",{staticClass:"mx-auto overflow-y-auto",attrs:{"max-width":"500",id:"right_side_bar",height:"100%"}},[n("v-expansion-panels",{attrs:{popout:""}},e._l(e.likedHouses,(function(t){return n("v-expansion-panel",{key:t.aptCode},[n("v-expansion-panel-header",{attrs:{"hide-actions":""},on:{click:function(n){return e.showDetailedAptInfo(t.aptCode)}}},[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("v-card",{attrs:{color:"#ff4500",dark:""}},[n("v-card-title",{staticClass:"text-h6"},[e._v(e._s(t.aptName))]),n("v-card-subtitle",[e._v(e._s([t.sidoName,t.gugunName,t.dongName,t.jibun].join(" "))+" ")])],1),n("v-btn",{staticClass:"like_button",attrs:{icon:"",color:"yellow","x-large":""},on:{click:function(n){return n.stopPropagation(),e.unlikeThisApt(t.aptCode)}}},[n("v-icon",[e._v("mdi-heart")])],1)],1)],1)],1),null!=e.house?n("v-expansion-panel-content",[n("v-container",[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("apt-price-component",{attrs:{house:e.house}})],1),n("v-col",{attrs:{cols:"12"}},[n("apt-info-component",{attrs:{houseDetailInfo:e.house.houseDetailInfo,houseInfo:e.house.houseInfo}})],1)],1)],1)],1):e._e()],1)})),1)],1)],1)},s=[],i=n(4367),o=(n(21249),n(56977),n(92222),n(20629)),r=n(30139),l=n(33818),c={name:"MapView",props:{},components:{AptInfoComponent:r.Z,AptPriceComponent:l.Z},data:function(){return{map:null,overlay:null,currCategory:void 0,placeOverlay:{},contentNode:{},markers:[],ps:{},categoryList:["PK6","BK9","CE7","CS2","FD6","HP8","PS3","SC4","MT1","SW8"]}},created:function(){},mounted:function(){var e=this,t=document.createElement("script");t.onload=function(){return kakao.maps.load(e.initMap)},t.src="http://dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=".concat("ec5cbd4d32d470ab6524fb06eab344d8","&libraries=services"),document.head.appendChild(t)},computed:(0,i.Z)((0,i.Z)({},(0,o.rn)("houseStore",["houses","house","lat","lng","dongs","likedHouses"])),{},{doILikeThisApt:function(){return this.house.likeThisApt}}),methods:(0,i.Z)((0,i.Z)({addEventHandle:function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n)},searchPlaces:function(){this.placeOverlay.setMap(null),this.removeMarker(),void 0!=this.currCategory&&this.ps.categorySearch(this.categoryList[this.currCategory],this.placesSearchCB,{useMapBounds:!0})},placesSearchCB:function(e,t){t===kakao.maps.services.Status.OK?this.displayPlaces(e):t===kakao.maps.services.Status.ZERO_RESULT||kakao.maps.services.Status.ERROR},displayPlaces:function(e){for(var t=this,n=0;n<e.length;n++){var a=this.addMarker(new kakao.maps.LatLng(e[n].y,e[n].x));(function(e,n){kakao.maps.event.addListener(e,"click",(function(){t.displayPlaceInfo(n)}))})(a,e[n])}},addMarker:function(e){var t="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png",n=new kakao.maps.Size(24,35),a=new kakao.maps.MarkerImage(t,n),s=new kakao.maps.Marker({map:this.map,position:e,image:a});return s.setMap(this.map),this.markers.push(s),s},removeMarker:function(){for(var e=0;e<this.markers.length;e++)this.markers[e].setMap(null);this.markers=[]},displayPlaceInfo:function(e){var t='<div class="placeinfo">   <a class="title" href="'+e.place_url+'" target="_blank" title="'+e.place_name+'">'+e.place_name+"</a>";e.road_address_name?t+='    <span title="'+e.road_address_name+'">'+e.road_address_name+'</span>  <span class="jibun" title="'+e.address_name+'">(지번 : '+e.address_name+")</span>":t+='    <span title="'+e.address_name+'">'+e.address_name+"</span>";var n=new kakao.maps.LatLng(this.house.houseInfo.lat,this.house.houseInfo.lng);this.placeOverlay.setPosition(new kakao.maps.LatLng(e.y,e.x));var a=this.placeOverlay.getPosition(),s=new kakao.maps.Polyline({path:[n,a]});t+='    <span class="tel">직선 거리:  '+(s.getLength()/1e3).toFixed(1)+'km</span></div><div class="after"></div>',this.contentNode.innerHTML=t,this.placeOverlay.setMap(this.map)},unlikeThisApt:function(e){confirm("이 아파트를 관심아파트에서 삭제하시겠습니까?"),this.REMOVE_LIKED_HOUSE(e),this.POST_UNLIKE_THIS_APT(e)},initMap:function(){var e=this,t=document.getElementById("map"),n={center:new kakao.maps.LatLng(this.lat,this.lng),level:4};this.map=new kakao.maps.Map(t,n),this.$store.dispatch("houseStore/FETCH_LIKED_HOUSES").then((function(){e.map.setCenter(new kakao.maps.LatLng(e.lat,e.lng))})),this.addCenterChangedEventListener(),this.placeOverlay=new kakao.maps.CustomOverlay({zIndex:1}),this.contentNode=document.createElement("div"),this.ps=new kakao.maps.services.Places(this.map),kakao.maps.event.addListener(this.map,"idle",this.searchPlaces),this.contentNode.className="placeinfo_wrap",this.addEventHandle(this.contentNode,"mousedown",kakao.maps.event.preventMap),this.addEventHandle(this.contentNode,"touchstart",kakao.maps.event.preventMap),this.placeOverlay.setContent(this.contentNode)},addCenterChangedEventListener:function(){var e=this;kakao.maps.event.addListener(this.map,"dragend",(function(){var t=e.map.getCenter();e.SET_CURRENT_POSITION(t)}))},drawMarkerWithInfoWindow:function(e){this.SET_CURRENT_POSITION(e.position),this.map.setCenter(e.position),null!=this.overlay&&this.overlay.setMap(null);var t=new kakao.maps.CustomOverlay({position:e.position,content:e.content,xAnchor:.5,yAnchor:1.1});this.overlay=t,t.setMap(this.map)},showDetailedAptInfo:function(e){var t=this;this.$store.dispatch("houseStore/FETCH_DETAILED_APT_INFO",e).then((function(){t.drawMarkerWithInfoWindow(t.moveCenterAndDrawOverlay(e))}))},moveCenterAndDrawOverlay:function(e){var t='<div class="overlay_info" data-aptcode="'.concat(e,'">');for(var n in this.likedHouses)if(this.likedHouses[n].aptCode==e){t+='    <span class="overlay_info_title_focused">'.concat(this.likedHouses[n].aptName,"</span>");var a=this.likedHouses[n];break}return t+='    <div class="desc">',t+='        <span class="address">매매 <strong>'.concat((a.minPrice/1e4).toFixed(1),"억 ~ ").concat((a.maxPrice/1e4).toFixed(1),"억</span>"),t+="    </div>",t+="</div>",{content:t,aptCode:a.aptCode,position:new window.kakao.maps.LatLng(a.lat,a.lng)}}},(0,o.nv)("houseStore",["FETCH_DETAILED_APT_INFO","FETCH_SEARCHED_RESULT","POST_LIKE_THIS_APT","POST_UNLIKE_THIS_APT"])),(0,o.OI)("houseStore",["SET_CURRENT_POSITION","REMOVE_LIKED_HOUSE"])),watch:{currCategory:function(){this.placeOverlay.setMap(null),this.searchPlaces()}}},d=c,p=n(1001),h=n(43453),u=n.n(h),v=n(680),m=n(24333),f=m.y.extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return m.y.options.computed.classes.call(this)}},methods:{genData:m.y.options.methods.genData}}),g=n(46952),k=n(73325),x=(0,k.Z)(f,g.Z).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return(0,i.Z)((0,i.Z)({},f.options.computed.classes.call(this)),{},{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var e=this.setTextColor(this.color,(0,i.Z)({},f.options.methods.genData.call(this)));return this.group?e:this.setBackgroundColor(this.backgroundColor,e)}}}),_=n(53237),b=n(37118),C=n(82102),y=n(4228),E=n(17352),w=n(96257),I=n(4589),P=(0,k.Z)((0,E.d)("expansionPanels","v-expansion-panel","v-expansion-panels"),(0,w.J)("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return(0,i.Z)({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(e){this.content=e},unregisterContent:function(){this.content=null},registerHeader:function(e){this.header=e,e.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(e){e.detail&&this.header.$el.blur(),this.$emit("click",e),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var e=this;this.$nextTick((function(){return e.$emit("change")}))}},render:function(e){return e("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},(0,I.z9)(this))}}),A=n(85827),S=n(88625),T=(0,k.Z)(S.Z,g.Z,(0,w.f)("expansionPanel","v-expansion-panel-content","v-expansion-panel")),L=T.extend().extend({name:"v-expansion-panel-content",data:function(){return{isActive:!1}},computed:{parentIsActive:function(){return this.expansionPanel.isActive}},watch:{parentIsActive:{immediate:!0,handler:function(e,t){var n=this;e&&(this.isBooted=!0),null==t?this.isActive=e:this.$nextTick((function(){return n.isActive=e}))}}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(e){var t=this;return e(A.Fx,this.showLazyContent((function(){return[e("div",t.setBackgroundColor(t.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:t.isActive}]}),[e("div",{class:"v-expansion-panel-content__wrap"},(0,I.z9)(t))])]})))}}),O=n(70172),Z=n(46286),B=(0,k.Z)(g.Z,(0,w.f)("expansionPanel","v-expansion-panel-header","v-expansion-panel")),M=B.extend().extend({name:"v-expansion-panel-header",directives:{ripple:Z.Z},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(e){this.$emit("click",e)},genIcon:function(){var e=(0,I.z9)(this,"actions")||[this.$createElement(O.Z,this.expandIcon)];return this.$createElement(A.Z5,[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},e)])}},render:function(e){var t=this;return e("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button","aria-expanded":this.isActive},directives:[{name:"ripple",value:this.ripple}],on:(0,i.Z)((0,i.Z)({},this.$listeners),{},{click:this.onClick,mousedown:function(){return t.hasMousedown=!0},mouseup:function(){return t.hasMousedown=!1}})}),[(0,I.z9)(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}}),D=(n(84944),n(33792),n(71824)),H=m.y.extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function(){return(0,i.Z)((0,i.Z)({},m.y.options.computed.classes.call(this)),{},{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function(){this.$attrs.hasOwnProperty("expand")&&(0,D.fK)("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&(0,D.fK)(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(e,t){var n=this.getValue(e,t),a=this.getValue(e,t+1);e.isActive=this.toggleMethod(n),e.nextIsActive=this.toggleMethod(a)}}}),N=n(96428),R=n(62877),V=(0,p.Z)(d,a,s,!1,null,null,null),$=V.exports;u()(V,{VBtn:v.Z,VBtnToggle:x,VCard:_.Z,VCardSubtitle:b.Qq,VCardTitle:b.EB,VCol:C.Z,VContainer:y.Z,VExpansionPanel:P,VExpansionPanelContent:L,VExpansionPanelHeader:M,VExpansionPanels:H,VIcon:N.Z,VRow:R.Z})}}]);
//# sourceMappingURL=980-legacy.0a1a211c.js.map