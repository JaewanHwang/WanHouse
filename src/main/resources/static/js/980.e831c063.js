"use strict";(self["webpackChunkfront_end"]=self["webpackChunkfront_end"]||[]).push([[980],{7253:function(e,t,a){a.r(t),a.d(t,{default:function(){return $}});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%",height:"100%",position:"relative"}},[a("div",{staticClass:"map_wrap"},[a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map"}}),a("div",{attrs:{id:"currCategory_buttons"}},[a("v-btn-toggle",{model:{value:e.currCategory,callback:function(t){e.currCategory=t},expression:"currCategory"}},[a("v-btn",[a("v-icon",[e._v("mdi-parking")]),e._v(" 주차장 ")],1),a("v-btn",[a("v-icon",[e._v("mdi-piggy-bank")]),e._v(" 은행 ")],1),a("v-btn",[a("v-icon",[e._v("mdi-coffee")]),e._v(" 카페 ")],1),a("v-btn",[a("v-icon",[e._v("mdi-store-24-hour")]),e._v(" 편의점 ")],1),a("v-btn",[a("v-icon",[e._v("mdi-silverware-fork-knife")]),e._v(" 음식점 ")],1),a("v-btn",[a("v-icon",[e._v("mdi-hospital-box-outline")]),e._v(" 병원 ")],1),a("v-btn",[a("v-icon",[e._v("mdi-baby-carriage")]),e._v(" 유치원/어린이집 ")],1),a("v-btn",[a("v-icon",[e._v("mdi-school")]),e._v(" 학교 ")],1),a("v-btn",[a("v-icon",[e._v("mdi-shopping")]),e._v(" 대형마트 ")],1),a("v-btn",[a("v-icon",[e._v("mdi-subway")]),e._v(" 지하철역 ")],1)],1)],1)]),a("v-card",{staticClass:"mx-auto overflow-y-auto",attrs:{"max-width":"500",id:"right_side_bar",height:"100%"}},[a("v-expansion-panels",{attrs:{popout:""}},e._l(e.likedHouses,(function(t){return a("v-expansion-panel",{key:t.aptCode},[a("v-expansion-panel-header",{attrs:{"hide-actions":""},on:{click:function(a){return e.showDetailedAptInfo(t.aptCode)}}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{color:"#ff4500",dark:""}},[a("v-card-title",{staticClass:"text-h6"},[e._v(e._s(t.aptName))]),a("v-card-subtitle",[e._v(e._s([t.sidoName,t.gugunName,t.dongName,t.jibun].join(" "))+" ")])],1),a("v-btn",{staticClass:"like_button",attrs:{icon:"",color:"yellow","x-large":""},on:{click:function(a){return a.stopPropagation(),e.unlikeThisApt(t.aptCode)}}},[a("v-icon",[e._v("mdi-heart")])],1)],1)],1)],1),null!=e.house?a("v-expansion-panel-content",[a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12"}},[a("apt-price-component",{attrs:{house:e.house}})],1),a("v-col",{attrs:{cols:"12"}},[a("apt-info-component",{attrs:{houseDetailInfo:e.house.houseDetailInfo,houseInfo:e.house.houseInfo}})],1)],1)],1)],1):e._e()],1)})),1)],1)],1)},n=[],i=a(629),o=a(139),r=a(3818),l={name:"MapView",props:{},components:{AptInfoComponent:o.Z,AptPriceComponent:r.Z},data(){return{map:null,overlay:null,currCategory:void 0,placeOverlay:{},contentNode:{},markers:[],ps:{},categoryList:["PK6","BK9","CE7","CS2","FD6","HP8","PS3","SC4","MT1","SW8"]}},created(){},mounted(){const e=document.createElement("script");e.onload=()=>kakao.maps.load(this.initMap),e.src="http://dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=ec5cbd4d32d470ab6524fb06eab344d8&libraries=services",document.head.appendChild(e)},computed:{...(0,i.rn)("houseStore",["houses","house","lat","lng","dongs","likedHouses"]),doILikeThisApt(){return this.house.likeThisApt}},methods:{addEventHandle(e,t,a){e.addEventListener?e.addEventListener(t,a):e.attachEvent("on"+t,a)},searchPlaces(){this.placeOverlay.setMap(null),this.removeMarker(),void 0!=this.currCategory&&this.ps.categorySearch(this.categoryList[this.currCategory],this.placesSearchCB,{useMapBounds:!0})},placesSearchCB(e,t){t===kakao.maps.services.Status.OK?this.displayPlaces(e):t===kakao.maps.services.Status.ZERO_RESULT||kakao.maps.services.Status.ERROR},displayPlaces(e){for(var t=0;t<e.length;t++){var a=this.addMarker(new kakao.maps.LatLng(e[t].y,e[t].x));((e,t)=>{kakao.maps.event.addListener(e,"click",(()=>{this.displayPlaceInfo(t)}))})(a,e[t])}},addMarker(e){var t="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png",a=new kakao.maps.Size(24,35),s=new kakao.maps.MarkerImage(t,a),n=new kakao.maps.Marker({map:this.map,position:e,image:s});return n.setMap(this.map),this.markers.push(n),n},removeMarker(){for(var e=0;e<this.markers.length;e++)this.markers[e].setMap(null);this.markers=[]},displayPlaceInfo(e){var t='<div class="placeinfo">   <a class="title" href="'+e.place_url+'" target="_blank" title="'+e.place_name+'">'+e.place_name+"</a>";e.road_address_name?t+='    <span title="'+e.road_address_name+'">'+e.road_address_name+'</span>  <span class="jibun" title="'+e.address_name+'">(지번 : '+e.address_name+")</span>":t+='    <span title="'+e.address_name+'">'+e.address_name+"</span>";var a=new kakao.maps.LatLng(this.house.houseInfo.lat,this.house.houseInfo.lng);this.placeOverlay.setPosition(new kakao.maps.LatLng(e.y,e.x));var s=this.placeOverlay.getPosition(),n=new kakao.maps.Polyline({path:[a,s]});t+='    <span class="tel">직선 거리:  '+(n.getLength()/1e3).toFixed(1)+'km</span></div><div class="after"></div>',this.contentNode.innerHTML=t,this.placeOverlay.setMap(this.map)},unlikeThisApt(e){confirm("이 아파트를 관심아파트에서 삭제하시겠습니까?"),this.REMOVE_LIKED_HOUSE(e),this.POST_UNLIKE_THIS_APT(e)},initMap(){const e=document.getElementById("map"),t={center:new kakao.maps.LatLng(this.lat,this.lng),level:4};this.map=new kakao.maps.Map(e,t),this.$store.dispatch("houseStore/FETCH_LIKED_HOUSES").then((()=>{this.map.setCenter(new kakao.maps.LatLng(this.lat,this.lng))})),this.addCenterChangedEventListener(),this.placeOverlay=new kakao.maps.CustomOverlay({zIndex:1}),this.contentNode=document.createElement("div"),this.ps=new kakao.maps.services.Places(this.map),kakao.maps.event.addListener(this.map,"idle",this.searchPlaces),this.contentNode.className="placeinfo_wrap",this.addEventHandle(this.contentNode,"mousedown",kakao.maps.event.preventMap),this.addEventHandle(this.contentNode,"touchstart",kakao.maps.event.preventMap),this.placeOverlay.setContent(this.contentNode)},addCenterChangedEventListener(){kakao.maps.event.addListener(this.map,"dragend",(()=>{let e=this.map.getCenter();this.SET_CURRENT_POSITION(e)}))},drawMarkerWithInfoWindow(e){this.SET_CURRENT_POSITION(e.position),this.map.setCenter(e.position),null!=this.overlay&&this.overlay.setMap(null);var t=new kakao.maps.CustomOverlay({position:e.position,content:e.content,xAnchor:.5,yAnchor:1.1});this.overlay=t,t.setMap(this.map)},showDetailedAptInfo(e){this.$store.dispatch("houseStore/FETCH_DETAILED_APT_INFO",e).then((()=>{this.drawMarkerWithInfoWindow(this.moveCenterAndDrawOverlay(e))}))},moveCenterAndDrawOverlay(e){var t=`<div class="overlay_info" data-aptcode="${e}">`;for(let s in this.likedHouses)if(this.likedHouses[s].aptCode==e){t+=`    <span class="overlay_info_title_focused">${this.likedHouses[s].aptName}</span>`;var a=this.likedHouses[s];break}return t+='    <div class="desc">',t+=`        <span class="address">매매 <strong>${(a.minPrice/1e4).toFixed(1)}억 ~ ${(a.maxPrice/1e4).toFixed(1)}억</span>`,t+="    </div>",t+="</div>",{content:t,aptCode:a.aptCode,position:new window.kakao.maps.LatLng(a.lat,a.lng)}},...(0,i.nv)("houseStore",["FETCH_DETAILED_APT_INFO","FETCH_SEARCHED_RESULT","POST_LIKE_THIS_APT","POST_UNLIKE_THIS_APT"]),...(0,i.OI)("houseStore",["SET_CURRENT_POSITION","REMOVE_LIKED_HOUSE"])},watch:{currCategory(){this.placeOverlay.setMap(null),this.searchPlaces()}}},d=l,p=a(1001),h=a(3453),c=a.n(h),v=a(680),u=a(4333),m=u.y.extend({name:"button-group",provide(){return{btnToggle:this}},computed:{classes(){return u.y.options.computed.classes.call(this)}},methods:{genData:u.y.options.methods.genData}}),g=a(6952),k=a(3325),x=(0,k.Z)(m,g.Z).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes(){return{...m.options.computed.classes.call(this),"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile,...this.themeClasses}}},methods:{genData(){const e=this.setTextColor(this.color,{...m.options.methods.genData.call(this)});return this.group?e:this.setBackgroundColor(this.backgroundColor,e)}}}),_=a(3237),b=a(7118),C=a(2102),y=a(4228),f=a(7352),E=a(6257),w=a(4589),I=(0,k.Z)((0,f.d)("expansionPanels","v-expansion-panel","v-expansion-panels"),(0,E.J)("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data(){return{content:null,header:null,nextIsActive:!1}},computed:{classes(){return{"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled,...this.groupClasses}},isDisabled(){return this.expansionPanels.disabled||this.disabled},isReadonly(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent(e){this.content=e},unregisterContent(){this.content=null},registerHeader(e){this.header=e,e.$on("click",this.onClick)},unregisterHeader(){this.header=null},onClick(e){e.detail&&this.header.$el.blur(),this.$emit("click",e),this.isReadonly||this.isDisabled||this.toggle()},toggle(){this.$nextTick((()=>this.$emit("change")))}},render(e){return e("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},(0,w.z9)(this))}}),P=a(5827),A=a(8625);const S=(0,k.Z)(A.Z,g.Z,(0,E.f)("expansionPanel","v-expansion-panel-content","v-expansion-panel"));var T=S.extend().extend({name:"v-expansion-panel-content",data:()=>({isActive:!1}),computed:{parentIsActive(){return this.expansionPanel.isActive}},watch:{parentIsActive:{immediate:!0,handler(e,t){e&&(this.isBooted=!0),null==t?this.isActive=e:this.$nextTick((()=>this.isActive=e))}}},created(){this.expansionPanel.registerContent(this)},beforeDestroy(){this.expansionPanel.unregisterContent()},render(e){return e(P.Fx,this.showLazyContent((()=>[e("div",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:this.isActive}]}),[e("div",{class:"v-expansion-panel-content__wrap"},(0,w.z9)(this))])])))}}),L=a(172),O=a(6286);const B=(0,k.Z)(g.Z,(0,E.f)("expansionPanel","v-expansion-panel-header","v-expansion-panel"));var M=B.extend().extend({name:"v-expansion-panel-header",directives:{ripple:O.Z},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:()=>({hasMousedown:!1}),computed:{classes(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive(){return this.expansionPanel.isActive},isDisabled(){return this.expansionPanel.isDisabled},isReadonly(){return this.expansionPanel.isReadonly}},created(){this.expansionPanel.registerHeader(this)},beforeDestroy(){this.expansionPanel.unregisterHeader()},methods:{onClick(e){this.$emit("click",e)},genIcon(){const e=(0,w.z9)(this,"actions")||[this.$createElement(L.Z,this.expandIcon)];return this.$createElement(P.Z5,[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},e)])}},render(e){return e("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button","aria-expanded":this.isActive},directives:[{name:"ripple",value:this.ripple}],on:{...this.$listeners,click:this.onClick,mousedown:()=>this.hasMousedown=!0,mouseup:()=>this.hasMousedown=!1}}),[(0,w.z9)(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}}),D=a(1824),H=u.y.extend({name:"v-expansion-panels",provide(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes(){return{...u.y.options.computed.classes.call(this),"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile}}},created(){this.$attrs.hasOwnProperty("expand")&&(0,D.fK)("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&(0,D.fK)(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem(e,t){const a=this.getValue(e,t),s=this.getValue(e,t+1);e.isActive=this.toggleMethod(a),e.nextIsActive=this.toggleMethod(s)}}}),N=a(6428),R=a(2877),Z=(0,p.Z)(d,s,n,!1,null,null,null),$=Z.exports;c()(Z,{VBtn:v.Z,VBtnToggle:x,VCard:_.Z,VCardSubtitle:b.Qq,VCardTitle:b.EB,VCol:C.Z,VContainer:y.Z,VExpansionPanel:I,VExpansionPanelContent:T,VExpansionPanelHeader:M,VExpansionPanels:H,VIcon:N.Z,VRow:R.Z})}}]);
//# sourceMappingURL=980.e831c063.js.map